<ng-template #rt let-r="result" let-t="term">
    {{ r.nome}}
</ng-template>

<div class="col-12" style="padding: 15px;margin: 0px">
    <app-page-header [pheading]="' Itens'" [picon]="'fa-th'" [heading]="'Item'" [icon]="'fa-th-list'">
    </app-page-header>

    <div class="card div-geral-page">

        <ngx-spinner [fullScreen]="false" bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff"
            type="ball-spin-clockwise">
            <p style="font-size: 20px; color: white">Comunicando com o Servidor, Aguarde...</p>
        </ngx-spinner>

        <div *ngIf="statusForm === 1 || statusForm === 2" class="row">
            <div class="col-md-12">

                <div class="card bg-light mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-3 col-xl-3 col-6 d-grid ">
                                <button class="btn btn-block butao-acao"
                                    [ngClass]="statusForm === 2 ? 'btn-warning':'btn-primary'" (click)="onCadastra()">
                                    <span class="fa fa-save span-acao"></span> {{statusForm === 2 ? 'Alterar':'Salvar'}}
                                </button>
                            </div>
                            <div class="col-lg-2 col-xl-2 col-6 d-grid ">
                                <button type="button" class="btn btn-block btn-outline-dark butao-acao"
                                    (click)="onLimpa()">
                                    <span class="fa fa-eraser span-acao"></span> Limpar
                                </button>
                            </div>
                            <div class="col-lg-1 col-xl-1 col-4 d-grid ">
                                <button type="button" class="btn btn-block btn-info butao-acao" (click)="onLeftArray()">
                                    <span class="fa fa-arrow-circle-left span-acao"></span>
                                </button>
                            </div>
                            <div class="col-lg-1 col-xl-1 col-4 d-grid ">
                                <button type="button" class="btn btn-block btn-info butao-acao"
                                    (click)="onRightArray()">
                                    <span class="fa fa-arrow-circle-right span-acao"></span>
                                </button>
                            </div>
                            <div class="col-lg-1 col-xl-1 col-4 d-grid ">
                                <button type="button" class="btn btn-block btn-info butao-acao" (click)="onTable()">
                                    <span class="fa fa-table span-acao"></span>
                                </button>
                            </div>
                            <div class="col-lg-2 col-xl-2 col-6 d-grid ">
                                <button type="button" [disabled]="isValidDelete()"
                                    class="btn btn-block btn-danger butao-acao" (click)="onDeleta(item.id)">
                                    <span class="fa fa-trash span-acao"></span> Deletar
                                </button>
                            </div>
                            <div class="col-lg-2 col-xl-2 col-6 d-grid ">
                                <button type="button" class="btn btn-block btn-success butao-acao"
                                    (click)="onPesquisa()">
                                    <span class="fa fa-search span-acao"></span> Pesq
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card bg-light mb-3">
                    <div class="card-header">Item</div>
                    <div class="card-body">
                        <app-fields-erro-directive *ngIf="errorForm.message !== null" [servererror]="errorForm">
                        </app-fields-erro-directive>


                        <ngb-carousel
                            *ngIf="item.itemImagemDTOs !== null && isArray(item.itemImagemDTOs) && item.itemImagemDTOs.length > 0">
                            <ng-template ngbSlide *ngFor="let itemImg of item.itemImagemDTOs">
                                <div class="picsum-img-wrapper">
                                    <img [src]="itemImg.srcImg" class="rounded mx-auto d-block img-max-lenght"
                                        [alt]="itemImg.fileName" [title]="itemImg.fileName"
                                        (keydown)="excluiImg(itemImg.id)"
                                        tabindex="0"
                                        (click)="excluiImg(itemImg.id)">

                                </div>
                            </ng-template>
                        </ngb-carousel>

                        <hr
                            *ngIf="item.itemImagemDTOs !== null && isArray(item.itemImagemDTOs) && item.itemImagemDTOs.length > 0" />

                        <div class="form-group row" *ngIf="statusForm === 2 && item.id > 0">

                            <div class="col-sm-9 col-lg-9 col-xl-9">
                                <input type="file" class="form-control" [(ngModel)]="imagemInput"
                                    accept="image/jpeg,image/gif,image/png" id="imageItem" name="imgNameItem"
                                    (change)="onFileChange($event)" placeholder="Selecione uma imagem para o item">
                            </div>
                            <div class="col-sm-3 col-lg-3 col-xl-3" *ngIf="flgUploadImage === 1">
                                <span class="fa fa-sync-alt fa-spin fa-fw spin-upload-image"></span> <span>Aguarde,
                                    enviando...</span>
                            </div>
                            <!-- <div class="col-sm-12" *ngIf="isImageSelected()">
                                <img [src]="getImageItem()" class="img-thumbnail rounded mx-auto d-block img-responsive-item" alt="Random slide">
                            </div> -->
                        </div>

                        <hr>
                        <div class="form-group row">
                            <label for="inputNome" class="col-sm-2 col-form-label">Id</label>
                            <div class="col-sm-2">
                                <input type="number" class="form-control" name="inputId" [(ngModel)]="item.id"
                                    (keydown.Tab)="onPesquisa()" (keydown.enter)="onPesquisa()"
                                    [disabled]="statusForm === 2" id="inputId" placeholder="Id">
                            </div>
                            <label for="itemNome" class="col-sm-2 col-form-label">Nome</label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" name="itemNome" [(ngModel)]="item.nome"
                                    id="itemNome" placeholder="Nome do Item">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="idAux" class="col-sm-2 col-form-label">Id Aux</label>
                            <div class="col-sm-2">
                                <input type="number" class="form-control" name="idAux" [(ngModel)]="item.idAux"
                                    id="idAux" placeholder="id Auxiliar">
                            </div>
                            <label for="codigoBarras" class="col-sm-2 col-form-label">Cod Barras</label>
                            <div class="col-sm-6">
                                <input type="number" class="form-control" name="codigoBarras"
                                    [(ngModel)]="item.codigoBarras" id="codigoBarras" placeholder="Codigo de Barras">
                            </div>
                        </div>

                        <hr />

                        <div class="form-group row">
                            <label for="dtaInclusao" class="col-sm-2 col-form-label">Dta Inclusão</label>
                            <div class="col-sm-4">
                                <span class="form-control span-disable" name="dtaInclusao"
                                    id="dtaInclusao">{{item.dtaInclusao | amDateFormat:'DD/MM/YYYY HH:MM:SS'}}</span>
                            </div>
                            <label for="usuarioInclusao" class="col-sm-2 col-form-label">Usuário Inclusão</label>
                            <div class="col-sm-4">
                                <span class="form-control span-disable" name="usuarioInclusao"
                                    id="usuarioInclusao">{{item.usuarioInclusao}}</span>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="dtaUltAlteracao" class="col-sm-2 col-form-label">Dta Ult Alteração</label>
                            <div class="col-sm-4">
                                <span class="form-control span-disable" name="dtaUltAlteracao"
                                    id="dtaUltAlteracao">{{item.dtaUltAlteracao
                                    | amDateFormat:'DD/MM/YYYY HH:MM:SS'}}</span>
                            </div>
                            <label for="usuarioUltAlteracao" class="col-sm-2 col-form-label">Usuário Ult
                                Alteração</label>
                            <div class="col-sm-4">
                                <span class="form-control span-disable" name="usuarioUltAlteracao"
                                    id="usuarioUltAlteracao">{{item.usuarioUltAlteracao}}</span>
                            </div>
                        </div>

                        <hr />

                        <div class="form-group row">
                            <label for="percMaxDesc" class="col-sm-2 col-form-label">Perc Max Desc</label>
                            <div class="col-sm-4">
                                <input type="number" class="form-control" name="percMaxDesc"
                                    [(ngModel)]="item.percMaxDesc" id="percMaxDesc"
                                    ngbTooltip="Insira o percentual maximo de desconto que o item poderá obter"
                                    placeholder="Percentual Maximo de Desconto">
                            </div>
                            <label for="percMarkup" class="col-sm-2 col-form-label">Perc Markup</label>
                            <div class="col-sm-4">
                                <input type="number" class="form-control" name="percMarkup"
                                    [(ngModel)]="item.percMarkup" id="percMarkup"
                                    ngbTooltip="Insira o percentual desejado de Markup para o item"
                                    placeholder="Percentual desejado de Markup">
                            </div>
                        </div>

                        <hr />

                        <div class="form-group row">
                            <div class="col-sm-12 div-info">
                                <span>Selecione no combo abaixo o fornecedor padrão do item</span>
                            </div>
                            <label for="idFornecedorPadrao" class="col-sm-2 col-form-label">Fornecedor Padrão</label>
                            <div class="col-sm-7">

                                <select class="form-control" name="fornecedorPadraoNome" id="idFornecedorPadrao" [compareWith]="compareMarca"
                                    [(ngModel)]="item.itemFornecedorPadraoDTO">
                                    <option [ngValue]="null">Selecione</option>
                                    <option *ngFor="let mr of itemFornecedorPadraos" [ngValue]="mr">{{mr.nome}}</option>
                                </select>

                            </div>
                            <div class="col-lg-1 col-xl-1 col-12 d-grid">
                                <button class="btn btn-block btn-secundary butao-acao" (click)="addFornecedorPadrao()">
                                    <i class="fa fa-plus" aria-hidden="true">Add</i>
                                </button>
                            </div>
                            <div class="col-lg-2 col-xl-2 col-12 d-grid">
                                <button class="btn btn-block btn-warning butao-acao" (click)="buscaFornecedorPadrao()">
                                    <i class="fa fa-refresh" aria-hidden="true">Update</i>
                                </button>
                            </div>
                            <br />
                            <div *ngIf="isFornecedorPadrao()" class="col-sm-12">
                                <div class="col-sm-12 div-info">
                                    <span>Fornecedor Padrão Configurado</span>
                                </div>
                                <table class="table table-bordered table-object-selected">
                                    <thead>
                                        <tr>
                                            <th>Id</th>
                                            <th>Nome</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="align-left">{{item.itemFornecedorPadraoDTO!.id}}</td>
                                            <td class="align-left">{{item.itemFornecedorPadraoDTO!.nome}}</td>
                                            <td class="align-center">


                                                <button class="btn btn-danger" (click)="removeFornecedorPadrao()"
                                                    (keydown)="removeFornecedorPadrao()" tabindex="0">
                                                    <fa-icon class="ms-auto" [icon]="['fas', 'trash']"></fa-icon>
                                                </button>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <hr />

                        <div class="form-group row">
                            <div class="col-sm-12 div-info">
                                <span>Selecione no combo abaixo a marca do item</span>
                            </div>
                            <label for="marca" class="col-sm-2 col-form-label">Marca</label>
                            <div class="col-sm-8">

                                <select class="form-control" name="marca" id="marca" [compareWith]="compareMarca"
                                    [(ngModel)]="item.itemMarcaDTO">
                                    <option [ngValue]="null">Selecione</option>
                                    <option *ngFor="let mr of marcas" [ngValue]="mr">{{mr.nome}}</option>
                                </select>

                            </div>
                            <div class="col-lg-2 col-xl-2 col-12 d-grid">
                                <button class="btn btn-block btn-warning butao-acao" (click)="atualizaMarca()">
                                    <i class="fa fa-refresh" aria-hidden="true">Update</i>
                                </button>
                            </div>
                            <br />
                            <div *ngIf="isMarca()" class="col-sm-12">
                                <div class="col-sm-12 div-info">
                                    <span>Marca Configurada</span>
                                </div>
                                <table class="table table-bordered table-object-selected">
                                    <thead>
                                        <tr>
                                            <th>Id</th>
                                            <th>Nome</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="align-left">{{item.itemMarcaDTO!.id}}</td>
                                            <td class="align-left">{{item.itemMarcaDTO!.nome}}</td>
                                            <td class="align-center">


                                                <button class="btn btn-danger" (click)="removeMarca()"
                                                    (keydown)="removeMarca()" tabindex="0">
                                                    <fa-icon class="ms-auto" [icon]="['fas', 'trash']"></fa-icon>
                                                </button>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <hr />

                        <div class="form-group row">
                            <div class="col-sm-12 div-info">
                                <span>Selecione no combo abaixo a rua do item</span>
                            </div>
                            <label for="marca" class="col-sm-2 col-form-label">Rua</label>
                            <div class="col-sm-8">

                                <select class="form-control" name="nameSelectRua" id="idSelectRua"
                                    [compareWith]="compareRuas" [(ngModel)]="item.itemRuaDTO">
                                    <option [ngValue]="null">Selecione</option>
                                    <option *ngFor="let ir of itemRuas" [ngValue]="ir">{{ir.nome}}</option>
                                </select>

                            </div>
                            <div class="col-lg-2 col-xl-2 col-12 d-grid">
                                <button class="btn btn-block btn-warning butao-acao" (click)="atualizaRuas()">
                                    <i class="fa fa-refresh" aria-hidden="true">Update</i>
                                </button>
                            </div>
                            <br />
                            <div *ngIf="isRua()" class="col-sm-12">
                                <div class="col-sm-12 div-info">
                                    <span>Rua Configurada</span>
                                </div>
                                <table class="table table-bordered table-object-selected">
                                    <thead>
                                        <tr>
                                            <th>Id</th>
                                            <th>Nome</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="align-left">{{item.itemRuaDTO!.id}}</td>
                                            <td class="align-left">{{item.itemRuaDTO!.nome}}</td>
                                            <td class="align-center">


                                                <button class="btn btn-danger" (click)="removeRua()"
                                                    (keydown)="removeRua()" tabindex="0">
                                                    <fa-icon class="ms-auto" [icon]="['fas', 'trash']"></fa-icon>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <hr />

                        <div class="form-group row">
                            <div class="col-sm-12 div-info">
                                <span>Selecione no combo abaixo o separador do item</span>
                            </div>
                            <label for="marca" class="col-sm-2 col-form-label">Separador</label>
                            <div class="col-sm-8">

                                <select class="form-control" name="nameSelectRua" id="idSelectSeparador"
                                    [compareWith]="compareRuas" [(ngModel)]="item.itemSeparadorDTO">
                                    <option [ngValue]="null">Selecione</option>
                                    <option *ngFor="let ir of itemSeparadores" [ngValue]="ir">{{ir.nome}}</option>
                                </select>

                            </div>
                            <div class="col-lg-2 col-xl-2 col-12 d-grid">
                                <button class="btn btn-block btn-warning butao-acao" (click)="atualizaSeparadores()">
                                    <i class="fa fa-refresh" aria-hidden="true">Update</i>
                                </button>
                            </div>
                            <br />
                            <div *ngIf="isSeparador()" class="col-sm-12">
                                <div class="col-sm-12 div-info">
                                    <span>Separador Configurado</span>
                                </div>
                                <table class="table table-bordered table-object-selected">
                                    <thead>
                                        <tr>
                                            <th>Id</th>
                                            <th>Nome</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="align-left">{{item.itemSeparadorDTO!.id}}</td>
                                            <td class="align-left">{{item.itemSeparadorDTO!.nome}}</td>
                                            <td class="align-center">


                                                <button class="btn btn-danger" (click)="removeSeparador()"
                                                    (keydown)="removeSeparador()" tabindex="0">
                                                    <fa-icon class="ms-auto" [icon]="['fas', 'trash']"></fa-icon>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <hr />

                        <div class="form-group row">
                            <div class="col-sm-12 div-info">
                                <span>Selecione no combo abaixo o prédio do item</span>
                            </div>
                            <label for="marca" class="col-sm-2 col-form-label">Prédio</label>
                            <div class="col-sm-8">

                                <select class="form-control" name="nameSelectPredio" id="idSelectPredio"
                                    [compareWith]="compareRuas" [(ngModel)]="item.itemPredioDTO">
                                    <option [ngValue]="null">Selecione</option>
                                    <option *ngFor="let ir of itemPredios" [ngValue]="ir">{{ir.nome}}</option>
                                </select>

                            </div>
                            <div class="col-lg-2 col-xl-2 col-12 d-grid">
                                <button class="btn btn-block btn-warning butao-acao" (click)="atualizaPredios()">
                                    <i class="fa fa-refresh" aria-hidden="true">Update</i>
                                </button>
                            </div>
                            <br />
                            <div *ngIf="isPredio()" class="col-sm-12">
                                <div class="col-sm-12 div-info">
                                    <span>Prédio Configurado</span>
                                </div>
                                <table class="table table-bordered table-object-selected">
                                    <thead>
                                        <tr>
                                            <th>Id</th>
                                            <th>Nome</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="align-left">{{item.itemPredioDTO!.id}}</td>
                                            <td class="align-left">{{item.itemPredioDTO!.nome}}</td>
                                            <td class="align-center">


                                                <button class="btn btn-danger" (click)="removePredio()"
                                                    (keydown)="removePredio()" tabindex="0">
                                                    <fa-icon class="ms-auto" [icon]="['fas', 'trash']"></fa-icon>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <hr />

                        <div class="form-group row">
                            <div class="col-sm-12 div-info">
                                <span>Selecione no combo abaixo o nível do item</span>
                            </div>
                            <label for="marca" class="col-sm-2 col-form-label">Nível</label>
                            <div class="col-sm-8">

                                <select class="form-control" name="nameSelectNivel" id="idSelectNivel"
                                    [compareWith]="compareRuas" [(ngModel)]="item.itemNivelDTO">
                                    <option [ngValue]="null">Selecione</option>
                                    <option *ngFor="let ir of itemNiveis" [ngValue]="ir">{{ir.nome}}</option>
                                </select>

                            </div>
                            <div class="col-lg-2 col-xl-2 col-12 d-grid">
                                <button class="btn btn-block btn-warning butao-acao" (click)="atualizaNiveis()">
                                    <i class="fa fa-refresh" aria-hidden="true">Update</i>
                                </button>
                            </div>
                            <br />
                            <div *ngIf="isNivel()" class="col-sm-12">
                                <div class="col-sm-12 div-info">
                                    <span>Nível Configurado</span>
                                </div>
                                <table class="table table-bordered table-object-selected">
                                    <thead>
                                        <tr>
                                            <th>Id</th>
                                            <th>Nome</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="align-left">{{item.itemNivelDTO!.id}}</td>
                                            <td class="align-left">{{item.itemNivelDTO!.nome}}</td>
                                            <td class="align-center">


                                                <button class="btn btn-danger" (click)="removeNivel()"
                                                    (keydown)="removeNivel()" tabindex="0">
                                                    <fa-icon class="ms-auto" [icon]="['fas', 'trash']"></fa-icon>
                                                </button>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <hr />

                        <div class="form-group row">
                            <div class="col-sm-12 div-info">
                                <span>Selecione no combo abaixo a Sub Categoria do item</span>
                            </div>
                            <label for="subCategoria" class="col-sm-2 col-form-label">Sub Categoria</label>
                            <div class="col-sm-8">

                                <select class="form-control" name="subCategoria" id="subCategoria"
                                    [compareWith]="compareSubCategoria" [(ngModel)]="item.itemSubCategoriaDTO">
                                    <option [ngValue]="null">Selecione</option>
                                    <option *ngFor="let subc of subCategorias" [ngValue]="subc">{{subc.nome}}</option>
                                </select>

                            </div>
                            <div class="col-lg-2 col-xl-2 col-12 d-grid">
                                <button class="btn btn-block btn-warning butao-acao" (click)="atualizaSubCategoria()">
                                    <i class="fa fa-refresh" aria-hidden="true">Update</i>
                                </button>
                            </div>
                            <br />
                            <div *ngIf="isSubCategoria()" class="col-sm-12">
                                <div class="col-sm-12 div-info">
                                    <span>Sub Categoria Configurada</span>
                                </div>
                                <table class="table table-bordered table-object-selected">
                                    <thead>
                                        <tr>
                                            <th>Id</th>
                                            <th>Nome</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="align-left">{{item.itemSubCategoriaDTO!.id}}</td>
                                            <td class="align-left">{{item.itemSubCategoriaDTO!.nome}}</td>
                                            <td class="align-center">

                                                <button class="btn btn-danger" (click)="removeSubCategoria()"
                                                    (keydown)="removeSubCategoria()" tabindex="0">
                                                    <fa-icon class="ms-auto" [icon]="['fas', 'trash']"></fa-icon>
                                                </button>



                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <hr>
                        <div class="div-tabs">

                            <ul ngbNav #nav="ngbNav" [(activeId)]="activeNav" class="nav-tabs">

                                <li [ngbNavItem]="1">
                                    <a ngbNavLink>Grupos</a>
                                    <ng-template ngbNavContent>




                                        <br>
                                        <div class="align-center text-center">
                                            <h5>Adicionar um ou mais grupos que o Item faz parte</h5>
                                        </div>
                                        <br>
                                        <div class="form-group row">
                                            <div class="col-sm-12 div-info">
                                                <span>Selecione um ou mais grupos que o Item faz parte</span>
                                            </div>
                                            <label for="typeaheadGrupo" class="col-sm-2 col-form-label">Item</label>
                                            <div class="col-sm-8">
                                                <input #vGrupoSelecionado id="typeaheadGrupo" name="typeaheadGrupo"
                                                    type="text" class="form-control"
                                                    [class.is-invalid]="searchFailedGrupo" [(ngModel)]="grupoSelected"
                                                    [ngbTypeahead]="searchGrupo" [inputFormatter]="formatterGrupo"
                                                    [resultTemplate]="rt"
                                                    (selectItem)="grupoSelecionado($event, vGrupoSelecionado)"
                                                    placeholder="Busca de Grupos" />
                                            </div>
                                            <span class="col-sm-2 col-form-label"
                                                *ngIf="searchingGrupo">procurando...</span>
                                            <span class="col-sm-12 col-form-label" *ngIf="searchFailedGrupo">Não foi
                                                encontrado
                                                nada</span>
                                        </div>

                                        <div *ngIf="item.itemGrupoDTOs.length > 0" class="horizontal-scroll">
                                            <table class="table table-bordered table-object-selected">
                                                <thead>
                                                    <tr>
                                                        <th>Id</th>
                                                        <th>Setor</th>
                                                        <th>Ações</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let grupoItem of item.itemGrupoDTOs">
                                                        <td class="align-left">{{grupoItem.id}}</td>
                                                        <td class="align-left">{{grupoItem.nome}}</td>
                                                        <td class="align-center">


                                                            <button class="btn btn-danger"
                                                                (click)="removeGrupo(grupoItem.id)"
                                                                (keydown)="removeGrupo(grupoItem.id)" tabindex="0">
                                                                <fa-icon class="ms-auto"
                                                                    [icon]="['fas', 'trash']"></fa-icon>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </ng-template>
                                </li>

                                <li [ngbNavItem]="2">
                                    <a ngbNavLink>Unidades</a>
                                    <ng-template ngbNavContent>


                                        <br>
                                        <div class="align-center text-center">
                                            <h5>Configure as Unidades do Item</h5>
                                        </div>
                                        <br>
                                        <div class="form-group row">
                                            <label for="idUnidade" class="col-sm-2 col-form-label">Unidade</label>
                                            <div class="col-sm-6">

                                                <select class="form-control" name="idUnidade" id="idUnidade"
                                                    [compareWith]="compareMarca" [(ngModel)]="unidadeSelected">
                                                    <option [ngValue]="null">Selecione</option>
                                                    <option *ngFor="let un of unidades" [ngValue]="un">{{un.nome}}
                                                    </option>
                                                </select>

                                            </div>
                                            <div class="col-lg-2 col-xl-2 col-12 d-grid">
                                                <button class="btn btn-block btn-warning butao-acao"
                                                    (click)="atualizaUnidade()">
                                                    <i class="fa fa-refresh span-acao" aria-hidden="true">Update</i>
                                                </button>
                                            </div>
                                            <div class="col-lg-2 col-xl-2 col-12 d-grid">
                                                <button class="btn btn-block btn-primary butao-acao"
                                                    (click)="addUnidade()">
                                                    <i class="fa fa-plus span-acao" aria-hidden="true">Add</i>
                                                </button>
                                            </div>
                                        </div>
                                        <br />
                                        <div *ngIf="item.itemUnidadeDTOs.length > 0" class="col-sm-12">
                                            <div class="col-sm-12 div-info">
                                                <span>Unidades Configuradas</span>
                                            </div>
                                            <table class="table table-bordered table-object-selected">
                                                <thead>
                                                    <tr>
                                                        <th>Id</th>
                                                        <th>Nome</th>
                                                        <th>Fator</th>
                                                        <th>Ações</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let unids of item.itemUnidadeDTOs">
                                                        <td class="align-left">{{unids.id}}</td>
                                                        <td class="align-left">{{unids.nome}}</td>
                                                        <td class="align-left">{{unids.fator}}</td>
                                                        <td class="align-center">


                                                            <button class="btn btn-danger"
                                                                (click)="removeUnidade(unids.id)"
                                                                (keydown)="removeUnidade(unids.id)" tabindex="0">
                                                                <fa-icon class="ms-auto"
                                                                    [icon]="['fas', 'trash']"></fa-icon>
                                                            </button>

                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>

                                    </ng-template>
                                </li>

                                <li [ngbNavItem]="3">
                                    <a ngbNavLink>Almoxarifados</a>
                                    <ng-template ngbNavContent>

                                        <div class="row" style="margin-top: 10px;padding-left: 10px;">

                                            <div class="col-sm-3 col-6 padding-5">
                                                <div class="form-group">
                                                    <label for="idMonMinEstoqueAceitavelUN">Monitora Mínimo de
                                                        estoque</label>
                                                    <div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="radio"
                                                                name="nmMonitoraEstoqueAceitavel" [value]="true"
                                                                [(ngModel)]="item.monitoraEstoqueAceitavelUN">
                                                            <label for="id" class="form-check-label"
                                                                for="inlineRadio1">Sim</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="radio"
                                                                name="nmMonitoraEstoqueAceitavel" [value]="false"
                                                                [(ngModel)]="item.monitoraEstoqueAceitavelUN">
                                                            <label for="id" class="form-check-label"
                                                                for="inlineRadio2">Não</label>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>

                                            <div class="col-sm-3 col-6 padding-5">
                                                <div class="form-group">
                                                    <label for="idMinEstoqueAceitavelUN">Mínimo de estoque aceitável
                                                        UN</label>
                                                    <input type="number" class="form-control"
                                                        id="idMinEstoqueAceitavelUN"
                                                        [(ngModel)]="item.minEstoqueAceitavelUN">
                                                </div>
                                            </div>

                                        </div>

                                    </ng-template>
                                </li>

                            </ul>
                            <div [ngbNavOutlet]="nav" class="mt-2"></div>
                        </div>

                        <hr>
                        <br>

                        <div class="form-group row">
                            <label for="id" class="col-sm-3 col-form-label">Venda Bloqueada</label>
                            <fieldset>
                                <div class="radio">
                                    <label for="id">
                                        <input type="radio" name="optionsRadiosVendaBloqueada" [value]="true"
                                            [(ngModel)]="item.vendaBloqueada">
                                        Sim
                                    </label>
                                </div>
                                <div class="radio">
                                    <label for="id">
                                        <input type="radio" name="optionsRadiosVendaBloqueada" [value]="false"
                                            [(ngModel)]="item.vendaBloqueada"> Não
                                    </label>
                                </div>
                            </fieldset>
                        </div>

                        <div class="form-group row">
                            <label for="id" class="col-sm-3 col-form-label">Movimento Bloqueado</label>
                            <fieldset>
                                <div class="radio">
                                    <label for="id">
                                        <input type="radio" name="optionsRadiosMovimentoBloqueado" [value]="true"
                                            [(ngModel)]="item.movimentoBloqueado">
                                        Sim
                                    </label>
                                </div>
                                <div class="radio">
                                    <label for="id">
                                        <input type="radio" name="optionsRadiosMovimentoBloqueado" [value]="false"
                                            [(ngModel)]="item.movimentoBloqueado"> Não
                                    </label>
                                </div>
                            </fieldset>
                        </div>

                        <div class="form-group row">
                            <label for="id" class="col-sm-3 col-form-label">Comodato</label>
                            <fieldset>
                                <div class="radio">
                                    <label for="id">
                                        <input type="radio" name="optionsRadiosItemComodato" [value]="true"
                                            [(ngModel)]="item.comodato">
                                        Sim
                                    </label>
                                </div>
                                <div class="radio">
                                    <label for="id">
                                        <input type="radio" name="optionsRadiosItemComodato" [value]="false"
                                            [(ngModel)]="item.comodato"> Não
                                    </label>
                                </div>
                            </fieldset>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="statusForm === 3">
            <div class="card bg-light mb-3">
                <div class="card-header">Ações</div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-3 col-xl-3 col-6  d-grid ">
                            <button type="button" class="btn btn-block btn-primary butao-acao" (click)="voltar()">
                                <span class="fa fa-arrow-left span-acao "></span> Voltar
                            </button>
                        </div>

                        <div class="col-lg-3 col-xl-3 col-6  d-grid ">
                            <button type="button" class="btn btn-block btn-warning butao-acao"
                                [disabled]="selected.length === 0" (click)="editando()">
                                <span class="fa fa-edit span-acao "></span> Editar
                            </button>
                        </div>

                    </div>
                </div>
            </div>
            <ngx-datatable class="material striped" [scrollbarH]="true" [rows]="pageItem.content"
                [columnMode]="ColumnMode.standard" [headerHeight]="35" [footerHeight]="70" appResizeWatcher
                rowHeight="auto" [selected]="selected" [selectionType]="selectionTypeSingle"
                (activate)="onActivate($event)" [externalPaging]="true" [count]="pageItem.totalElements"
                [offset]="pageItem.pageable.pageNumber" [limit]="pageItem.size" (page)='setPage($event)'>
                <ngx-datatable-column name="ID" prop="id" [width]="50"></ngx-datatable-column>
                <ngx-datatable-column name="NOME" prop="nome" [width]="350"></ngx-datatable-column>
                <ngx-datatable-column name="MARCA" prop="itemMarcaDTO.nome" [width]="200"></ngx-datatable-column>
                <ngx-datatable-column name="SUBCATEGORIA" prop="itemSubCategoriaDTO.nome"
                    [width]="250"></ngx-datatable-column>
                <ngx-datatable-column name="DATA ULT ALTERAÇÃO" prop="dtaUltAlteracao" [width]="170">
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        {{value | amDateFormat:'DD/MM/YYYY HH:MM:SS'}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="VENDA BLOQUEADA" prop="vendaBloqueada" [width]="170">
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        {{value === true ? 'SIM':'NÃO'}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="MOVIMENTO BLOQUEADO" prop="movimentoBloqueado" [width]="170">
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        {{value === true ? 'SIM':'NÃO'}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="COMODATO" prop="comodato" [width]="170">
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        {{value === true ? 'SIM':'NÃO'}}
                    </ng-template>
                </ngx-datatable-column>
            </ngx-datatable>
        </div>
    </div>
</div>